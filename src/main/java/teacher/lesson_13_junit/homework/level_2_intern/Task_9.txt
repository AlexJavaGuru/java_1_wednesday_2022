Прочьтите главу 9 "Модульные тесты" из книги Роберта Мартина "Чистый код".