Добро пожаловать в магазин фильмов.
В этом магазине можно брать на прокат фильмы для просмотра.
У нас есть компьютерная программа, которая расчитывает
стоимость аренды и количество полученных очков лояльности клиента.
Главная часть программы, которая делает вычисления находится
в класе Customer в методе statement().
В ближайшем будущем мы планируем значительно пополнить нашу
коллекцию фильмов, в том числе расширить предлагаемые категории
фильмов для просмотра.
Ваша задача - разобраться с кодом программы и улучшить его
если это возможно, для того чтобы подготовить код для внедрения
новой функциональности.
Подойдите к этой задаче как к задаче по рефакторингу.
Первое: разберите код и проанализируйте что он делает.
Второе: напишите автоматические тесты для проверки правильности работы.
Третье: найдите плохие места в коде и объясните почему вы считаете их плохими.
Четвёртое: придумайте способ как улучшить код.
Пятое: выполните рефакторинг.
Шестое: убедитесь, что после рефакторинга все тесты по прежнему работают.
Выполняйте пункты три - шесть до тех пор пока у вас закончатся
идеи по улучшению кода.

PS: не переписывайте весь код заново, а постепенно улучшайте его
с помощью последовательности небольших контролируемых изменений.
После каждого изменения в коде запускайте автоматические тесты
и убеждайтесь в том, что вы ничего не сломали.